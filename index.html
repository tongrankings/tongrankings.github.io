<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TongTest</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 1.5rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Banner styles */
        .banner {
            width: 100%;
            height: 400px;
            overflow: hidden;
            position: relative;
            background-color: #1a237e; /* Fallback color */
        }
        
        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .banner video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .banner-text {
            text-align: center;
            color: white;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            max-width: 800px;
            padding: 0 2rem;
        }
        
        .banner-text h2 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            color: white;
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .banner-text p {
            font-size: 1.4rem;
            margin: 0 auto;
            color: white;
        }
        
        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }
        
        .view-switcher {
            display: flex;
            margin-bottom: 2rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .view-option {
            flex: 1;
            text-align: center;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .view-option.active {
            background-color: #1a73e8;
            color: white;
        }
        
        .view-option:hover:not(.active) {
            background-color: #f0f5ff;
        }
        
        .section {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1a73e8;
            border-bottom: 1px solid #eaeaea;
            padding-bottom: 0.5rem;
        }
        
        h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem;
            color: #444;
        }
        
        p {
            margin-bottom: 1rem;
            color: #555;
        }
        
        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .task-card {
            border: 1px solid #eaeaea;
            border-radius: 6px;
            padding: 1rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .task-card h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #1a73e8;
        }
        
        .dimension-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .dimension-card {
            border: 1px solid #eaeaea;
            border-radius: 6px;
            padding: 1.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
            background-color: #f8f9fa;
        }
        
        .dimension-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .dimension-card h4 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #1a73e8;
        }
        
        .dimension-card ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .dimension-card li {
            padding: 0.3rem 0;
            border-bottom: 1px solid #eaeaea;
        }
        
        .dimension-card li:last-child {
            border-bottom: none;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .model-selectors {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .model-checkbox {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .model-checkbox input {
            margin-right: 0.5rem;
        }
        
        .select-all {
            background-color: #1a73e8;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .select-all:hover {
            background-color: #0d47a1;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
        }
        
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #eaeaea;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #444;
            cursor: pointer;
            position: relative;
            user-select: none;
        }
        
        th:hover {
            background-color: #e9ecef;
        }
        
        th i {
            margin-left: 5px;
            color: #888;
            font-size: 0.8rem;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .score-cell {
            text-align: center;
            font-weight: 500;
        }
        
        .model-name {
            display: flex;
            align-items: center;
        }
        
        .medal {
            margin-right: 8px;
            font-size: 1.2rem;
        }
        
        .gold {
            color: #FFD700;
        }
        
        .silver {
            color: #C0C0C0;
        }
        
        .bronze {
            color: #CD7F32;
        }
        
        .chart-container {
            height: 500px;
            margin: 2rem 0;
        }
        
        footer {
            background-color: #1a237e;
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 3rem;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .banner {
                height: 250px;
            }
            
            .banner-text h2 {
                font-size: 1.8rem;
            }
            
            .banner-text p {
                font-size: 1.1rem;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 1rem;
                justify-content: center;
            }
            
            nav li {
                margin: 0 0.5rem;
            }
            
            .tasks-grid, .dimension-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: flex-start;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            th, td {
                padding: 0.5rem 0.75rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>TongTest - General Embodied Interaction Testing Platform</h1>
            <nav>
                <ul>
                    <li><a href="#" class="active" data-view="ability">Ability View</a></li>
                    <li><a href="#" data-view="dimension">Dimension View</a></li>
                    <li><a href="#" data-view="about">About Us</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Banner Section -->
    <div class="banner">
        <img src="./banner.png" alt="TongTest Banner">
        <div class="banner-overlay">
            <div class="banner-text">
                <h2>TongTest - The North Star in the New Era of AGI</h2>
                <p>Comprehensively evaluate the multi-dimensional development level of AI agents in human-like evaluation systems</p>
            </div>
        </div>
    </div>
    
    <main>
        <div class="view-switcher">
            <div class="view-option active" data-view="ability">Ability View</div>
            <div class="view-option" data-view="dimension">Dimension View</div>
        </div>
        
        <!-- Ability View Content -->
        <section class="section" id="ability-view">
            <h2>Test Task Introduction</h2>
            <p>This platform evaluates the performance of multimodal large models on 8 core test tasks, comprehensively measuring model capabilities in object recognition, spatial understanding, task planning, and more.</p>
            
            <div class="tasks-grid">
                <div class="task-card">
                    <h4>Object Counting</h4>
                    <p>Evaluate the model's ability to identify and count specific objects in a scene.</p>
                </div>
                <div class="task-card">
                    <h4>Packing Luggage</h4>
                    <p>Test the model's ability to select and organize appropriate items based on travel needs.</p>
                </div>
                <div class="task-card">
                    <h4>Building Blocks</h4>
                    <p>Evaluate the model's spatial reasoning and operational ability to understand and execute block building instructions.</p>
                </div>
                <div class="task-card">
                    <h4>Smart Puzzle</h4>
                    <p>Test the model's visual reasoning ability to recognize patterns and complete puzzle tasks.</p>
                </div>
                <div class="task-card">
                    <h4>Understanding Buttons</h4>
                    <p>Evaluate the model's ability to identify button functions and predict operation results.</p>
                </div>
                <div class="task-card">
                    <h4>Tidying Desk</h4>
                    <p>Test the model's ability to arrange items reasonably based on categories and spatial relationships.</p>
                </div>
                <div class="task-card">
                    <h4>Cleaning Room</h4>
                    <p>Evaluate the model's ability to plan cleaning tasks and execute reasonable operation sequences.</p>
                </div>
                <div class="task-card">
                    <h4>Choosing Gifts</h4>
                    <p>Test the model's ability to select appropriate gifts based on personal relationships and scenario requirements.</p>
                </div>
            </div>
        </section>
        
        <section class="section" id="ability-results">
            <h2>Model Performance Comparison</h2>
            
            <div class="controls">
                <div class="model-selectors" id="modelSelectors">
                    <!-- Model selectors will be dynamically generated by JavaScript -->
                </div>
                <button class="select-all" id="selectAllBtn">Select All/Deselect All</button>
            </div>
            
            <div class="chart-container">
                <canvas id="radarChart"></canvas>
            </div>
            
            <table id="resultsTable">
                <thead>
                    <tr>
                        <th data-sort="name">Model <i class="fas fa-sort"></i></th>
                        <th data-sort="avg">Average Score <i class="fas fa-sort"></i></th>
                        <th data-sort="0">Object Counting <i class="fas fa-sort"></i></th>
                        <th data-sort="1">Packing Luggage <i class="fas fa-sort"></i></th>
                        <th data-sort="2">Building Blocks <i class="fas fa-sort"></i></th>
                        <th data-sort="3">Smart Puzzle <i class="fas fa-sort"></i></th>
                        <th data-sort="4">Understanding Buttons <i class="fas fa-sort"></i></th>
                        <th data-sort="5">Tidying Desk <i class="fas fa-sort"></i></th>
                        <th data-sort="6">Cleaning Room <i class="fas fa-sort"></i></th>
                        <th data-sort="7">Choosing Gifts <i class="fas fa-sort"></i></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Table content will be dynamically generated by JavaScript -->
                </tbody>
            </table>
        </section>
        
        <!-- Dimension View Content -->
        <section class="section hidden" id="dimension-view">
            <h2>Test Dimension Introduction</h2>
            <p>This platform categorizes the 8 test tasks into 3 core dimensions, evaluating the comprehensive capabilities of multimodal large models from different perspectives.</p>
            
            <div class="dimension-grid">
                <div class="dimension-card">
                    <h4>Object Understanding Dimension</h4>
                    <p>Evaluate the model's ability in object recognition, counting, value assessment, and selection</p>
                    <ul>
                        <li>Object Counting: Identify and count specific objects in a scene</li>
                        <li>Choosing Gifts: Select appropriate items based on scenario requirements</li>
                    </ul>
                </div>
                <div class="dimension-card">
                    <h4>Spatial Intelligence Dimension</h4>
                    <p>Evaluate the model's spatial reasoning and embodied task planning capabilities</p>
                    <ul>
                        <li>Building Blocks: Understand and execute block building instructions</li>
                        <li>Smart Puzzle: Recognize patterns and complete puzzle tasks</li>
                        <li>Understanding Buttons: Identify button functions and predict operation results</li>
                    </ul>
                </div>
                <div class="dimension-card">
                    <h4>Social Activity Dimension</h4>
                    <p>Evaluate the model's planning and execution capabilities in social scenarios</p>
                    <ul>
                        <li>Tidying Desk: Arrange items reasonably based on categories and spatial relationships</li>
                        <li>Cleaning Room: Plan cleaning tasks and execute reasonable operation sequences</li>
                        <li>Packing Luggage: Select and organize appropriate items based on travel needs</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section class="section hidden" id="dimension-results">
            <h2>Model Dimension Capability Comparison</h2>
            
            <div class="controls">
                <div class="model-selectors" id="dimensionModelSelectors">
                    <!-- Dimension view model selectors will be dynamically generated by JavaScript -->
                </div>
                <button class="select-all" id="dimensionSelectAllBtn">Select All/Deselect All</button>
            </div>
            
            <div class="chart-container">
                <canvas id="dimensionRadarChart"></canvas>
            </div>
            
            <table id="dimensionResultsTable">
                <thead>
                    <tr>
                        <th data-sort="name">Model <i class="fas fa-sort"></i></th>
                        <th data-sort="avg">Average Score <i class="fas fa-sort"></i></th>
                        <th data-sort="0">Object Understanding <i class="fas fa-sort"></i></th>
                        <th data-sort="1">Spatial Intelligence <i class="fas fa-sort"></i></th>
                        <th data-sort="2">Social Activity <i class="fas fa-sort"></i></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Table content will be dynamically generated by JavaScript -->
                </tbody>
            </table>
        </section>
        
        <!-- About Us View Content -->
        <section class="section hidden" id="about-view">
            <h2>About Us</h2>
            <p>TongTest - General Embodied Interaction Testing Platform is committed to providing comprehensive and objective AI model evaluation data for researchers and developers.</p>
            
            <h3>Our Mission</h3>
            <p>Promote the development and application of multimodal large model technology through systematic testing and evaluation.</p>
            
            <h3>Testing Methodology</h3>
            <p>We adopt standardized testing processes and evaluation metrics to ensure the reliability and comparability of test results.</p>
            
            <h3>Contact Us</h3>
            <p>If you have any questions or suggestions, please contact us at research@bigai.ai.</p>
        </section>
    </main>
    
    <footer>
        <p>TongTest Test Results Release Platform &copy; 2025 - Focused on AI Agent Capability Evaluation and Comparison</p>
    </footer>

    <script>
        // Test data - 17 models' scores on 8 tasks
        const modelData = [
            { name: "Gemini-Pro-2.5", scores: [48.00, 12.38, 10.00, 15.00, 0.00, 26.68, 22.77, 68.06], avg: 25.36 },
            { name: "OpenAI o3", scores: [54.00, 10.30, 10.00, 17.38, 8.33, 14.31, 18.77, 65.92], avg: 24.88 },
            { name: "Gemini-Flash-2.5", scores: [42.00, 11.05, 5.50, 15.60, 3.33, 25.83, 23.22, 68.20], avg: 24.34 },
            { name: "GPT-5", scores: [36.00, 9.50, 3.75, 15.00, 3.33, 28.68, 16.00, 69.06], avg: 22.67 },
            { name: "Claude-4-Sonnet", scores: [44.00, 5.18, 8.75, 15.33, 0.00, 19.81, 14.85, 66.44], avg: 21.67 },
            { name: "Claude-3.7-Sonnet", scores: [46.00, 3.40, 8.88, 14.83, 0.00, 22.76, 16.12, 59.74], avg: 21.59 },
            { name: "Claude-3.5-Sonnet", scores: [42.00, 6.00, 8.00, 15.45, 0.00, 12.33, 13.47, 64.24], avg: 20.19 },
            { name: "Grok3", scores: [52.00, 3.35, 9.88, 13.93, 0.00, 8.37, 17.20, 50.24], avg: 19.37 },
            { name: "Doubao-vision-pro-32k", scores: [36.00, 7.75, 12.50, 12.58, 0.00, 24.17, 4.22, 56.70], avg: 19.24 },
            { name: "OpenAI o4-mini", scores: [38.00, 4.23, 0.00, 14.83, 1.67, 13.67, 1.52, 66.40], avg: 17.54 },
            { name: "GPT-4o", scores: [32.00, 8.18, 10.00, 15.40, 1.67, 18.42, 6.50, 46.30], avg: 17.38 },
            { name: "GPT-4o-mini", scores: [34.00, 3.75, 5.75, 14.90, 1.67, 19.07, 1.50, 54.96], avg: 16.95 },
            { name: "Qwen-VL-max", scores: [44.00, 0.00, 0.00, 15.20, 1.67, 15.96, 1.25, 48.14], avg: 15.78 },
            { name: "Llama-4-Scout-17B-128E-Instruct", scores: [36.00, 3.00, 3.75, 15.73, 0.00, 15.75, 0.42, 50.30], avg: 15.62 },
            { name: "Llama-4-Scout-17B-16E-Instruct", scores: [28.00, 2.00, 6.25, 15.73, 0.00, 8.94, 1.38, 42.56], avg: 13.11 },
            { name: "Qwen-VL-plus", scores: [6.00, 0.38, 0.00, 15.90, 3.33, 16.67, 1.82, 34.16], avg: 9.78 },
            { name: "Llama-3.1-90B-Vision-Instruct", scores: [6.00, 0.00, 0.00, 15.90, 0.00, 4.67, 0.42, 6.80], avg: 4.22 }
        ];

        // Task names
        const tasks = ["Object Counting", "Packing Luggage", "Building Blocks", "Smart Puzzle", "Understanding Buttons", "Tidying Desk", "Cleaning Room", "Choosing Gifts"];

        // Dimension definitions
        const dimensions = ["Object Understanding", "Spatial Intelligence", "Social Activity"];

        // Calculate each model's scores across three dimensions
        const dimensionData = modelData.map(model => {
            // Object Understanding Dimension: Average of Object Counting(0) and Choosing Gifts(7)
            const objectUnderstanding = (model.scores[0] + model.scores[7]) / 2;
            
            // Spatial Intelligence Dimension: Average of Building Blocks(2), Smart Puzzle(3), Understanding Buttons(4)
            const spatialIntelligence = (model.scores[2] + model.scores[3] + model.scores[4]) / 3;
            
            // Social Activity Dimension: Average of Packing Luggage(1), Tidying Desk(5), Cleaning Room(6)
            const socialActivity = (model.scores[1] + model.scores[5] + model.scores[6]) / 3;
            
            // Dimension average score
            const dimensionAvg = (objectUnderstanding + spatialIntelligence + socialActivity) / 3;
            
            return {
                name: model.name,
                scores: [objectUnderstanding, spatialIntelligence, socialActivity],
                avg: dimensionAvg
            };
        });
        
        // Color array for radar chart
        const colors = [
            'rgba(54, 162, 235, 1)',
            'rgba(255, 99, 132, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(255, 159, 64, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 205, 86, 1)',
            'rgba(201, 203, 207, 1)',
            'rgba(100, 200, 150, 1)',
            'rgba(200, 100, 150, 1)',
            'rgba(150, 100, 200, 1)',
            'rgba(100, 150, 200, 1)',
            'rgba(200, 150, 100, 1)',
            'rgba(150, 200, 100, 1)',
            'rgba(100, 200, 200, 1)',
            'rgba(200, 100, 100, 1)',
            'rgba(100, 100, 200, 1)',
            'rgba(200, 200, 100, 1)'
        ];
        
        // Initialize model selection state
        let selectedModels = Array(modelData.length).fill(true);
        
        // Current view state
        let currentView = 'ability';
        
        // Current sort state
        let currentSort = {
            column: 'avg',
            direction: 'desc'
        };

        // Initialize table
        function initTable() {
            const tbody = document.querySelector('#resultsTable tbody');
            tbody.innerHTML = '';
            
            // Sort data
            const sortedData = sortModelData(modelData, currentSort.column, currentSort.direction);
            
            sortedData.forEach((model, index) => {
                const row = document.createElement('tr');
                
                // Model name
                const nameCell = document.createElement('td');
                const nameDiv = document.createElement('div');
                nameDiv.className = 'model-name';
                
                // Add medals for top three
                if (index < 3) {
                    const medal = document.createElement('i');
                    if (index === 0) {
                        medal.className = 'medal gold fas fa-medal';
                    } else if (index === 1) {
                        medal.className = 'medal silver fas fa-medal';
                    } else if (index === 2) {
                        medal.className = 'medal bronze fas fa-medal';
                    }
                    nameDiv.appendChild(medal);
                }
                
                nameDiv.appendChild(document.createTextNode(model.name));
                nameCell.appendChild(nameDiv);
                row.appendChild(nameCell);
                
                // Average score
                const avgCell = document.createElement('td');
                avgCell.textContent = model.avg.toFixed(1);
                avgCell.className = 'score-cell';
                row.appendChild(avgCell);
                
                // Task scores
                model.scores.forEach(score => {
                    const scoreCell = document.createElement('td');
                    scoreCell.textContent = score;
                    scoreCell.className = 'score-cell';
                    row.appendChild(scoreCell);
                });
                
                tbody.appendChild(row);
            });
        }
        
        // Initialize dimension table
        function initDimensionTable() {
            const tbody = document.querySelector('#dimensionResultsTable tbody');
            tbody.innerHTML = '';
            
            // Sort data
            const sortedData = sortModelData(dimensionData, currentSort.column, currentSort.direction);
            
            sortedData.forEach((model, index) => {
                const row = document.createElement('tr');
                
                // Model name
                const nameCell = document.createElement('td');
                const nameDiv = document.createElement('div');
                nameDiv.className = 'model-name';
                
                // Add medals for top three
                if (index < 3) {
                    const medal = document.createElement('i');
                    if (index === 0) {
                        medal.className = 'medal gold fas fa-medal';
                    } else if (index === 1) {
                        medal.className = 'medal silver fas fa-medal';
                    } else if (index === 2) {
                        medal.className = 'medal bronze fas fa-medal';
                    }
                    nameDiv.appendChild(medal);
                }
                
                nameDiv.appendChild(document.createTextNode(model.name));
                nameCell.appendChild(nameDiv);
                row.appendChild(nameCell);
                
                // Average score
                const avgCell = document.createElement('td');
                avgCell.textContent = model.avg.toFixed(1);
                avgCell.className = 'score-cell';
                row.appendChild(avgCell);
                
                // Dimension scores
                model.scores.forEach(score => {
                    const scoreCell = document.createElement('td');
                    scoreCell.textContent = score.toFixed(1);
                    scoreCell.className = 'score-cell';
                    row.appendChild(scoreCell);
                });
                
                tbody.appendChild(row);
            });
        }
        
        // Sort function
        function sortModelData(data, column, direction) {
            return [...data].sort((a, b) => {
                let aValue, bValue;
                
                if (column === 'name') {
                    aValue = a.name;
                    bValue = b.name;
                } else if (column === 'avg') {
                    aValue = a.avg;
                    bValue = b.avg;
                } else {
                    aValue = a.scores[parseInt(column)];
                    bValue = b.scores[parseInt(column)];
                }
                
                if (direction === 'asc') {
                    return aValue < bValue ? -1 : aValue > bValue ? 1 : 0;
                } else {
                    return aValue > bValue ? -1 : aValue < bValue ? 1 : 0;
                }
            });
        }
        
        // Update sort icons
        function updateSortIcons(tableId, sortColumn, sortDirection) {
            const ths = document.querySelectorAll(`#${tableId} th`);
            ths.forEach(th => {
                const icon = th.querySelector('i');
                if (th.dataset.sort === sortColumn) {
                    icon.className = sortDirection === 'asc' ? 'fas fa-sort-up' : 'fas fa-sort-down';
                } else {
                    icon.className = 'fas fa-sort';
                }
            });
        }
        
        // Initialize model selectors
        function initModelSelectors() {
            const container = document.getElementById('modelSelectors');
            container.innerHTML = '';
            
            modelData.forEach((model, index) => {
                const label = document.createElement('label');
                label.className = 'model-checkbox';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = selectedModels[index];
                checkbox.dataset.index = index;
                
                checkbox.addEventListener('change', function() {
                    selectedModels[index] = this.checked;
                    updateRadarChart();
                });
                
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(model.name));
                
                container.appendChild(label);
            });
        }
        
        // Initialize dimension model selectors
        function initDimensionModelSelectors() {
            const container = document.getElementById('dimensionModelSelectors');
            container.innerHTML = '';
            
            dimensionData.forEach((model, index) => {
                const label = document.createElement('label');
                label.className = 'model-checkbox';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = selectedModels[index];
                checkbox.dataset.index = index;
                
                checkbox.addEventListener('change', function() {
                    selectedModels[index] = this.checked;
                    updateDimensionRadarChart();
                });
                
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(model.name));
                
                container.appendChild(label);
            });
        }
        
        // Update model selectors state (for view switching synchronization)
        function updateModelSelectors() {
            document.querySelectorAll('#modelSelectors input[type="checkbox"]').forEach((checkbox, index) => {
                checkbox.checked = selectedModels[index];
            });
        }
        
        // Update dimension model selectors state (for view switching synchronization)
        function updateDimensionModelSelectors() {
            document.querySelectorAll('#dimensionModelSelectors input[type="checkbox"]').forEach((checkbox, index) => {
                checkbox.checked = selectedModels[index];
            });
        }
        
        // Initialize radar chart
        let radarChart;
        function initRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            const datasets = modelData.map((model, index) => ({
                label: model.name,
                data: model.scores,
                backgroundColor: 'rgba(0, 0, 0, 0)',
                borderColor: colors[index],
                borderWidth: 2,
                pointBackgroundColor: colors[index],
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: colors[index],
                hidden: !selectedModels[index]
            }));
            
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: tasks,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            onClick: function(evt, legendItem, legend) {
                                // 获取点击的图例索引
                                const index = legendItem.datasetIndex;
                                
                                // 切换选中状态
                                selectedModels[index] = !selectedModels[index];
                                
                                // 更新复选框状态
                                updateModelSelectors();
                                
                                // 手动更新数据集的隐藏状态，确保与 selectedModels 同步
                                this.chart.data.datasets[index].hidden = !selectedModels[index];
                                
                                // 更新图表
                                this.chart.update();
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
        }
        
        // Initialize dimension radar chart
        let dimensionRadarChart;
        function initDimensionRadarChart() {
            const ctx = document.getElementById('dimensionRadarChart').getContext('2d');
            
            const datasets = dimensionData.map((model, index) => ({
                label: model.name,
                data: model.scores,
                backgroundColor: 'rgba(0, 0, 0, 0)',
                borderColor: colors[index],
                borderWidth: 2,
                pointBackgroundColor: colors[index],
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: colors[index],
                hidden: !selectedModels[index]
            }));
            
            dimensionRadarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: dimensions,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            onClick: function(evt, legendItem, legend) {
                                // 获取点击的图例索引
                                const index = legendItem.datasetIndex;
                                
                                // 切换选中状态
                                selectedModels[index] = !selectedModels[index];
                                
                                // 更新复选框状态
                                updateDimensionModelSelectors();
                                
                                // 手动更新数据集的隐藏状态，确保与 selectedModels 同步
                                this.chart.data.datasets[index].hidden = !selectedModels[index];
                                
                                // 更新图表
                                this.chart.update();
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
        }
        
        // Update radar chart
        function updateRadarChart() {
            // 确保数据集的隐藏状态与 selectedModels 同步
            radarChart.data.datasets.forEach((dataset, index) => {
                dataset.hidden = !selectedModels[index];
            });
            radarChart.update();
        }
        
        // Update dimension radar chart
        function updateDimensionRadarChart() {
            // 确保数据集的隐藏状态与 selectedModels 同步
            dimensionRadarChart.data.datasets.forEach((dataset, index) => {
                dataset.hidden = !selectedModels[index];
            });
            dimensionRadarChart.update();
        }
        
        // Switch view
        function switchView(view) {
            // Update current view state
            currentView = view;
            
            // Hide all views
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected view
            if (view === 'ability') {
                document.getElementById('ability-view').classList.remove('hidden');
                document.getElementById('ability-results').classList.remove('hidden');
                // Synchronize model selector state
                updateModelSelectors();
                // Update radar chart
                updateRadarChart();
                // Update sort icons
                updateSortIcons('resultsTable', currentSort.column, currentSort.direction);
            } else if (view === 'dimension') {
                document.getElementById('dimension-view').classList.remove('hidden');
                document.getElementById('dimension-results').classList.remove('hidden');
                // Synchronize model selector state
                updateDimensionModelSelectors();
                // Update radar chart
                updateDimensionRadarChart();
                // Update sort icons
                updateSortIcons('dimensionResultsTable', currentSort.column, currentSort.direction);
            } else if (view === 'about') {
                document.getElementById('about-view').classList.remove('hidden');
            }
            
            // Update navigation active state
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
                if (link.dataset.view === view) {
                    link.classList.add('active');
                }
            });
            
            // Update view switcher active state
            document.querySelectorAll('.view-option').forEach(option => {
                option.classList.remove('active');
                if (option.dataset.view === view) {
                    option.classList.add('active');
                }
            });
        }
        
        // Select All/Deselect All functionality
        document.getElementById('selectAllBtn').addEventListener('click', function() {
            const allSelected = selectedModels.every(val => val);
            
            selectedModels = selectedModels.map(() => !allSelected);
            
            // Update checkbox state
            updateModelSelectors();
            
            // Update radar chart
            updateRadarChart();
        });
        
        // Dimension view Select All/Deselect All functionality
        document.getElementById('dimensionSelectAllBtn').addEventListener('click', function() {
            const allSelected = selectedModels.every(val => val);
            
            selectedModels = selectedModels.map(() => !allSelected);
            
            // Update checkbox state
            updateDimensionModelSelectors();
            
            // Update radar chart
            updateDimensionRadarChart();
        });
        
        // View switching functionality
        document.querySelectorAll('.view-option').forEach(option => {
            option.addEventListener('click', function() {
                const view = this.dataset.view;
                switchView(view);
            });
        });
        
        // Navigation menu interaction
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const view = this.dataset.view;
                switchView(view);
            });
        });
        
        // Table sorting functionality
        function initTableSorting() {
            // Ability view table sorting
            document.querySelectorAll('#resultsTable th[data-sort]').forEach(th => {
                th.addEventListener('click', function() {
                    const column = this.dataset.sort;
                    let direction = 'desc';
                    
                    if (currentSort.column === column) {
                        direction = currentSort.direction === 'desc' ? 'asc' : 'desc';
                    }
                    
                    currentSort = { column, direction };
                    updateSortIcons('resultsTable', column, direction);
                    initTable();
                });
            });
            
            // Dimension view table sorting
            document.querySelectorAll('#dimensionResultsTable th[data-sort]').forEach(th => {
                th.addEventListener('click', function() {
                    const column = this.dataset.sort;
                    let direction = 'desc';
                    
                    if (currentSort.column === column) {
                        direction = currentSort.direction === 'desc' ? 'asc' : 'desc';
                    }
                    
                    currentSort = { column, direction };
                    updateSortIcons('dimensionResultsTable', column, direction);
                    initDimensionTable();
                });
            });
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initTable();
            initDimensionTable();
            initModelSelectors();
            initDimensionModelSelectors();
            initRadarChart();
            initDimensionRadarChart();
            initTableSorting();
            
            // Default to ability view
            switchView('ability');
        });
    </script>
</body>
</html>